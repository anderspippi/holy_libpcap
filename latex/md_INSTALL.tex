Libpcap can be built either with the configure script and {\ttfamily make}, or with CMake and any build system supported by CMake.

To build libpcap with the configure script and {\ttfamily make}\+:


\begin{DoxyItemize}
\item If you build from a git clone rather than from a release archive, run {\ttfamily ./autogen.sh} (a shell script). The autogen.\+sh script will build the {\ttfamily configure} and {\ttfamily config.\+h.\+in} files.
\end{DoxyItemize}

On some system, you may need to set the {\ttfamily AUTORECONF} variable, like\+: {\ttfamily AUTORECONF=autoreconf-\/2.\+69 ./autogen.sh} to select the {\ttfamily autoreconf} version you want to use.


\begin{DoxyItemize}
\item Run {\ttfamily ./configure} (a shell script). The configure script will determine your system attributes and generate an appropriate {\ttfamily Makefile} from {\ttfamily Makefile.\+in}. The configure script has a number of options to control the configuration of libpcap; {\ttfamily ./configure -\/-\/help} will show them.
\item Next, run {\ttfamily make}. If everything goes well, you can {\ttfamily su} to root and run {\ttfamily make install}. However, you need not install libpcap if you just want to build tcpdump; just make sure the tcpdump and libpcap directory trees have the same parent directory.
\end{DoxyItemize}

On Open\+BSD, you may need to set, before the {\ttfamily make}, the {\ttfamily AUTOCONF\+\_\+\+VERSION} variable like\+: {\ttfamily AUTOCONF\+\_\+\+VERSION=2.\+69 make}

To build libpcap with CMake and the build system of your choice, from the command line\+:


\begin{DoxyItemize}
\item Create a build directory into which CMake will put the build files it generates; CMake does not work as well with builds done in the source code directory as does the configure script. The build directory may be created as a subdirectory of the source directory or as a directory outside the source directory.
\item Change to the build directory and run CMake with the path from the build directory to the source directory as an argument. The {\ttfamily -\/G} flag can be used to select the CMake \char`\"{}generator\char`\"{} appropriate for the build system you\textquotesingle{}re using; various {\ttfamily -\/D} flags can be used to control the configuration of libpcap.
\item Run the build tool. If everything goes well, you can {\ttfamily su} to root and run the build tool with the {\ttfamily install} target. Building tcpdump from a libpcap in a build directory is not supported.
\end{DoxyItemize}

An {\ttfamily uninstall} target is supported with both {\ttfamily ./configure} and CMake.

{\itshape {\bfseries{DO NOT}}} run the build as root; there is no need to do so, running anything as root that doesn\textquotesingle{}t need to be run as root increases the risk of damaging your system, and running the build as root will put files in the build directory that are owned by root and that probably cannot be overwritten, removed, or replaced except by root, which could cause permission errors in subsequent builds.

If configure says\+: \begin{DoxyVerb}configure: warning: cannot determine packet capture interface
configure: warning: (see INSTALL.md file for more info)
\end{DoxyVerb}
 or CMake says\+: \begin{DoxyVerb}cannot determine packet capture interface

(see the INSTALL.md file for more info)
\end{DoxyVerb}
 then your system either does not support packet capture or your system does support packet capture but libpcap does not support that particular type. (If you have HP-\/\+UX, see below.) If your system uses a packet capture not supported by libpcap, please send us patches; don\textquotesingle{}t forget to include an autoconf fragment suitable for use in {\ttfamily configure.\+ac}.

It is possible to override the default packet capture type with the {\ttfamily -\/-\/with-\/pcap} option to {\ttfamily ./configure} or the {\ttfamily -\/DPCAP\+\_\+\+TYPE} option to CMake, although the circumstances where this works are limited. One possible reason to do that would be to force a supported packet capture type in the case where the configure or CMake scripts fails to detect it.

You will need a C99 compiler to build libpcap. The configure script will abort if your compiler is not C99 compliant. If this happens, use the generally available GNU C compiler (GCC) or Clang.

You will need either Flex 2.\+5.\+31 or later, or a version of Lex compatible with it (if any exist), to build libpcap. The configure script will abort if there isn\textquotesingle{}t any such program; CMake fails if Flex or Lex cannot be found, but doesn\textquotesingle{}t ensure that it\textquotesingle{}s compatible with Flex 2.\+5.\+31 or later. If you have an older version of Flex, or don\textquotesingle{}t have a compatible version of Lex, the current version of Flex is available \href{https://github.com/westes/flex}{\texttt{ here}}.

You will need either Bison, Berkeley YACC, or a version of YACC compatible with them (if any exist), to build libpcap. The configure script will abort if there isn\textquotesingle{}t any such program; CMake fails if Bison or some form of YACC cannot be found, but doesn\textquotesingle{}t ensure that it\textquotesingle{}s compatible with Bison or Berkeley YACC. If you don\textquotesingle{}t have any such program, the current version of Bison can be found \href{https://ftp.gnu.org/gnu/bison/}{\texttt{ here}} and the current version of Berkeley YACC can be found \href{https://invisible-island.net/byacc/}{\texttt{ here}}.

Sometimes the stock C compiler does not interact well with Flex and Bison. The list of problems includes undefined references for alloca(3). You can get around this by installing GCC.\hypertarget{md_INSTALL_autotoc_md1}{}\doxysection{Linux specifics}\label{md_INSTALL_autotoc_md1}
On Linux, libpcap will not work if the kernel does not have the packet socket option enabled; see \href{doc/README.linux}{\texttt{ this file}} for more information.\hypertarget{md_INSTALL_autotoc_md2}{}\doxysection{Solaris specifics}\label{md_INSTALL_autotoc_md2}
If you use the SPARCompiler, you must be careful to not use the {\ttfamily /usr/ucb/cc} interface. If you do, you will get bogus warnings and perhaps errors. Either make sure your path has {\ttfamily /opt/\+SUNWspro/bin} before {\ttfamily /usr/ucb} or else\+: \begin{DoxyVerb}setenv CC /opt/SUNWspro/bin/cc
\end{DoxyVerb}
 before running configure. (You might have to do a {\ttfamily make distclean} if you already ran {\ttfamily configure} once).

See this file for more up to date Solaris-\/related information.\hypertarget{md_INSTALL_autotoc_md3}{}\doxysection{HP-\/\+UX specifics}\label{md_INSTALL_autotoc_md3}
If you use HP-\/\+UX, you must have at least version 9 and either the version of {\ttfamily cc} that supports C99 ({\ttfamily cc -\/AC99}) or else use the GNU C compiler. You must also buy the optional streams package. If you don\textquotesingle{}t have\+: \begin{DoxyVerb}/usr/include/sys/dlpi.h
/usr/include/sys/dlpi_ext.h
\end{DoxyVerb}
 then you don\textquotesingle{}t have the streams package. In addition, we believe you need to install the \char`\"{}9.\+X LAN and DLPI drivers cumulative\char`\"{} patch (PHNE\+\_\+6855) to make the version 9 DLPI work with libpcap.

The DLPI streams package is standard starting with HP-\/\+UX 10.

The HP implementation of DLPI is a little bit eccentric. Unlike Solaris, you must attach {\ttfamily /dev/dlpi} instead of the specific {\ttfamily /dev/$\ast$} network pseudo device entry in order to capture packets. The PPA is based on the ifnet \char`\"{}index\char`\"{} number. Under HP-\/\+UX 9, it is necessary to read {\ttfamily /dev/kmem} and the kernel symbol file ({\ttfamily /hp-\/ux}). Under HP-\/\+UX 10, DLPI can provide information for determining the PPA. It does not seem to be possible to trace the loopback interface. Unlike other DLPI implementations, PHYS implies MULTI and SAP and you get an error if you try to enable more than one promiscuous mode at a time.

It is impossible to capture outbound packets on HP-\/\+UX 9. To do so on HP-\/\+UX 10, you will, apparently, need a late \char`\"{}\+LAN products cumulative patch\char`\"{} (at one point, it was claimed that this would be PHNE\+\_\+18173 for s700/10.\+20; at another point, it was claimed that the required patches were PHNE\+\_\+20892, PHNE\+\_\+20725 and PHCO\+\_\+10947, or newer patches), and to do so on HP-\/\+UX 11 you will, apparently, need the latest lancommon/\+DLPI patches and the latest driver patch for the interface(s) in use on HP-\/\+UX 11 (at one point, it was claimed that patches PHNE\+\_\+19766, PHNE\+\_\+19826, PHNE\+\_\+20008, and PHNE\+\_\+20735 did the trick).

Furthermore, on HP-\/\+UX 10, you will need to turn on a kernel switch by doing \begin{DoxyVerb}echo 'lanc_outbound_promisc_flag/W 1' | adb -w /stand/vmunix /dev/mem
\end{DoxyVerb}
 You would have to arrange that this happens on reboots; the right way to do that would probably be to put it into an executable script file {\ttfamily /sbin/init.d/outbound\+\_\+promisc} and making {\ttfamily /sbin/rc2.d/\+S350outbound\+\_\+promisc} a symbolic link to that script.

Finally, testing shows that there can\textquotesingle{}t be more than one simultaneous DLPI user per network interface.

See \href{doc/README.hpux}{\texttt{ this file}} for more information specific to HP-\/\+UX.\hypertarget{md_INSTALL_autotoc_md4}{}\doxysection{AIX specifics}\label{md_INSTALL_autotoc_md4}
See \href{doc/README.aix}{\texttt{ this file}} for information on installing libpcap and configuring your system to be able to support libpcap.\hypertarget{md_INSTALL_autotoc_md5}{}\doxysection{other specifics}\label{md_INSTALL_autotoc_md5}
If you are trying to do packet capture with a FORE ATM card, you may or may not be able to. They usually only release their driver in object code so unless their driver supports packet capture, there\textquotesingle{}s not much libpcap can do.

If you get an error like\+: \begin{DoxyVerb}tcpdump: recv_ack: bind error 0x???
\end{DoxyVerb}
 when using DLPI, look for the DL\+\_\+\+ERROR\+\_\+\+ACK error return values, usually in {\ttfamily /usr/include/sys/dlpi.h}, and find the corresponding value.\hypertarget{md_INSTALL_autotoc_md6}{}\doxysection{Description of files}\label{md_INSTALL_autotoc_md6}
CHANGES -\/ description of differences between releases Chmod\+BPF/$\ast$ -\/ mac\+OS startup item to set ownership and permissions on /dev/bpf$\ast$ CMake\+Lists.\+txt -\/ CMake file CONTRIBUTING.\+md -\/ guidelines for contributing CREDITS -\/ people that have helped libpcap along INSTALL.\+md -\/ this file LICENSE -\/ the license under which tcpdump is distributed Makefile.\+in -\/ compilation rules (input to the configure script) README.\+md -\/ description of distribution doc/\+README.\+aix -\/ notes on using libpcap on AIX doc/\+README.\+dag -\/ notes on using libpcap to capture on Endace DAG devices doc/\+README.\+hpux -\/ notes on using libpcap on HP-\/\+UX doc/\+README.\+linux -\/ notes on using libpcap on Linux doc/\+README.\+macos -\/ notes on using libpcap on mac\+OS doc/\+README.\+septel -\/ notes on using libpcap to capture on Intel/\+Septel devices doc/\+README.\+sita -\/ notes on using libpcap to capture on SITA devices doc/\+README.\+solaris.\+md -\/ notes on using libpcap on Solaris doc/\+README.\+Win32.\+md -\/ notes on using libpcap on Win32 systems (with Npcap) VERSION -\/ version of this release aclocal.\+m4 -\/ autoconf macros \mbox{\hyperlink{arcnet_8h_source}{arcnet.\+h}} -\/ ARCNET definitions \mbox{\hyperlink{atmuni31_8h_source}{atmuni31.\+h}} -\/ ATM Q.\+2931 definitions autogen.\+sh -\/ build configure and config.\+h.\+in (run this first) bpf\+\_\+dump.\+c -\/ BPF program printing routines bpf\+\_\+filter.\+c -\/ BPF filtering routines bpf\+\_\+image.\+c -\/ BPF disassembly routine charconv.\+c -\/ Windows Unicode routines \mbox{\hyperlink{charconv_8h_source}{charconv.\+h}} -\/ Windows Unicode prototypes config.\+guess -\/ autoconf support config.\+sub -\/ autoconf support configure.\+ac -\/ configure script source \mbox{\hyperlink{diag-control_8h_source}{diag-\/control.\+h}} -\/ compiler diagnostics control macros dlpisubs.\+c -\/ DLPI-\/related functions for pcap-\/dlpi.\+c and pcap-\/libdlpi.\+c \mbox{\hyperlink{dlpisubs_8h_source}{dlpisubs.\+h}} -\/ DLPI-\/related function declarations etherent.\+c -\/ /etc/ethers support routines \mbox{\hyperlink{ethertype_8h_source}{ethertype.\+h}} -\/ Ethernet protocol types and names definitions fad-\/getad.\+c -\/ pcap\+\_\+findalldevs() for systems with getifaddrs() fad-\/gifc.\+c -\/ pcap\+\_\+findalldevs() for systems with only SIOCGIFLIST fad-\/glifc.\+c -\/ pcap\+\_\+findalldevs() for systems with SIOCGLIFCONF fmtutils.\+c -\/ error message formatting routines \mbox{\hyperlink{fmtutils_8h_source}{fmtutils.\+h}} -\/ error message formatting prototypes \mbox{\hyperlink{ftmacros_8h_source}{ftmacros.\+h}} -\/ feature test macros testprogs/filtertest.\+c -\/ test program for BPF compiler testprogs/findalldevstest.\+c -\/ test program for pcap\+\_\+findalldevs() gencode.\+c -\/ BPF code generation routines \mbox{\hyperlink{gencode_8h_source}{gencode.\+h}} -\/ BPF code generation definitions grammar.\+y -\/ filter string grammar \mbox{\hyperlink{ieee80211_8h_source}{ieee80211.\+h}} -\/ 802.\+11 definitions install-\/sh -\/ BSD style install script lbl/os-\/$\ast$.h -\/ OS-\/dependent defines and prototypes \mbox{\hyperlink{llc_8h_source}{llc.\+h}} -\/ 802.\+2 LLC SAP definitions missing/$\ast$ -\/ replacements for missing library functions mkdep -\/ construct Makefile dependency list msdos/$\ast$ -\/ drivers for MS-\/\+DOS capture support nametoaddr.\+c -\/ hostname to address routines \mbox{\hyperlink{nametoaddr_8h_source}{nametoaddr.\+h}} -\/ hostname to address prototypes \mbox{\hyperlink{nlpid_8h_source}{nlpid.\+h}} -\/ OSI network layer protocol identifier definitions optimize.\+c -\/ BPF optimization routines \mbox{\hyperlink{optimize_8h_source}{optimize.\+h}} -\/ BPF optimization prototypes pcap/bluetooth.\+h -\/ public definition of DLT\+\_\+\+BLUETOOTH\+\_\+\+HCI\+\_\+\+H4\+\_\+\+WITH\+\_\+\+PHDR header pcap/bpf.\+h -\/ BPF definitions pcap/can\+\_\+socketcan.\+h -\/ Socket\+CAN header pcap/compiler-\/tests.\+h -\/ compiler version comparison and other macros pcap/dlt.\+h -\/ Link-\/layer header type codes. pcap/funcattrs.\+h -\/ function attribute macros pcap/ipnet.\+h -\/ Solaris IPnet definitions pcap/namedb.\+h -\/ public libpcap name database definitions pcap/nflog.\+h -\/ NFLOG-\/related definitions \mbox{\hyperlink{pcap_8h_source}{pcap/pcap.\+h}} -\/ public libpcap definitions pcap/pcap-\/inttypes.\+h -\/ header for OS-\/specific integer type includes pcap/sll.\+h -\/ public definitions of DLT\+\_\+\+LINUX\+\_\+\+SLL and DLT\+\_\+\+LINUX\+\_\+\+SLL2 headers pcap/socket.\+h -\/ IP sockets support for various OSes pcap/usb.\+h -\/ public definition of DLT\+\_\+\+USB header pcap/vlan.\+h -\/ VLAN-\/specific definitions pcap-\/airpcap.\+c -\/ Air\+Pcap device capture support \mbox{\hyperlink{pcap-airpcap_8h_source}{pcap-\/airpcap.\+h}} -\/ Air\+Pcap device capture support pcap-\/bpf.\+c -\/ BSD Packet Filter support \mbox{\hyperlink{pcap-bpf_8h_source}{pcap-\/bpf.\+h}} -\/ header for backwards compatibility pcap-\/bt-\/linux.\+c -\/ Bluetooth capture support for Linux \mbox{\hyperlink{pcap-bt-linux_8h_source}{pcap-\/bt-\/linux.\+h}} -\/ Bluetooth capture support for Linux pcap-\/bt-\/monitor-\/linux.\+c -\/ Bluetooth monitor capture support for Linux \mbox{\hyperlink{pcap-bt-monitor-linux_8h_source}{pcap-\/bt-\/monitor-\/linux.\+h}} -\/ Bluetooth monitor capture support for Linux pcap-\/common.\+c -\/ common code for pcap and pcapng files \mbox{\hyperlink{pcap-common_8h_source}{pcap-\/common.\+h}} -\/ common code for pcap and pcapng files pcap-\/dag.\+c -\/ Endace DAG device capture support \mbox{\hyperlink{pcap-dag_8h_source}{pcap-\/dag.\+h}} -\/ Endace DAG device capture support pcap-\/dbus.\+c -\/ D-\/\+Bus capture support \mbox{\hyperlink{pcap-dbus_8h_source}{pcap-\/dbus.\+h}} -\/ D-\/\+Bus capture support pcap-\/dlpi.\+c -\/ Data Link Provider Interface support pcap-\/dos.\+c -\/ MS-\/\+DOS capture support \mbox{\hyperlink{pcap-dos_8h_source}{pcap-\/dos.\+h}} -\/ headers for MS-\/\+DOS capture support pcap-\/dpdk.\+c -\/ DPDK device support \mbox{\hyperlink{pcap-dpdk_8h_source}{pcap-\/dpdk.\+h}} -\/ DPDK device support pcap-\/enet.\+c -\/ enet support pcap-\/hurd.\+c -\/ GNU Hurd support \mbox{\hyperlink{pcap-int_8h_source}{pcap-\/int.\+h}} -\/ internal libpcap definitions pcap-\/libdlpi.\+c -\/ Data Link Provider Interface support for systems with libdlpi pcap-\/linux.\+c -\/ Linux packet socket support \mbox{\hyperlink{pcap-namedb_8h_source}{pcap-\/namedb.\+h}} -\/ header for backwards compatibility pcap-\/netfilter-\/linux.\+c -\/ Linux netfilter support \mbox{\hyperlink{pcap-netfilter-linux_8h_source}{pcap-\/netfilter-\/linux.\+h}} -\/ Linux netfilter support pcap-\/netmap.\+c -\/ netmap support \mbox{\hyperlink{pcap-netmap_8h_source}{pcap-\/netmap.\+h}} -\/ netmap support pcap-\/nit.\+c -\/ Sun\+OS Network Interface Tap support pcap-\/npf.\+c -\/ Npcap capture support pcap-\/null.\+c -\/ dummy monitor support (allows offline use of libpcap) pcap-\/pf.\+c -\/ Ultrix and Digital/\+Tru64 UNIX Packet Filter support pcap-\/rdmasniff.\+c -\/ RDMA/\+Infini\+Band capture support \mbox{\hyperlink{pcap-rdmasniff_8h_source}{pcap-\/rdmasniff.\+h}} -\/ RDMA/\+Infini\+Band capture support pcap-\/rpcap.\+c -\/ RPCAP protocol capture support \mbox{\hyperlink{pcap-rpcap_8h_source}{pcap-\/rpcap.\+h}} -\/ RPCAP protocol capture support pcap-\/septel.\+c -\/ Intel/\+Septel device capture support \mbox{\hyperlink{pcap-septel_8h_source}{pcap-\/septel.\+h}} -\/ Intel/\+Septel device capture support pcap-\/sita.\+c -\/ SITA device capture support \mbox{\hyperlink{pcap-sita_8h_source}{pcap-\/sita.\+h}} -\/ SITA device capture support pcap-\/sita.\+html -\/ SITA device capture documentation pcap-\/snf.\+c -\/ Myricom SNF device capture support \mbox{\hyperlink{pcap-snf_8h_source}{pcap-\/snf.\+h}} -\/ Myricom SNF device capture support pcap-\/snit.\+c -\/ Sun\+OS 4.\+x STREAMS-\/based Network Interface Tap support pcap-\/snoop.\+c -\/ IRIX Snoop network monitoring support pcap-\/tc.\+c -\/ Turbo\+Cap device capture support \mbox{\hyperlink{pcap-tc_8h_source}{pcap-\/tc.\+h}} -\/ Turbo\+Cap device capture support \mbox{\hyperlink{pcap-types_8h_source}{pcap-\/types.\+h}} -\/ header for OS-\/specific type includes pcap-\/usb-\/linux.\+c -\/ USB capture support for Linux \mbox{\hyperlink{pcap-usb-linux_8h_source}{pcap-\/usb-\/linux.\+h}} -\/ USB capture support for Linux pcap-\/usb-\/linux-\/common.\+c -\/ Linux USB common routines \mbox{\hyperlink{pcap-usb-linux-common_8h_source}{pcap-\/usb-\/linux-\/common.\+h}} -\/ Linux USB common prototypes pcap-\/util.\+c -\/ common code for various files \mbox{\hyperlink{pcap-util_8h_source}{pcap-\/util.\+h}} -\/ common code for various files pcap.\+3pcap -\/ manual entry for the library pcap.\+c -\/ pcap utility routines \mbox{\hyperlink{pcap_8h_source}{pcap.\+h}} -\/ header for backwards compatibility pcap\+\_\+$\ast$.3pcap -\/ manual entries for library functions pcap-\/filter.\+manmisc.\+in -\/ manual entry for filter syntax pcap-\/linktype.\+manmisc.\+in -\/ manual entry for link-\/layer header types \mbox{\hyperlink{ppp_8h_source}{ppp.\+h}} -\/ Point to Point Protocol definitions rpcap-\/protocol.\+c -\/ RPCAP client/server common routines \mbox{\hyperlink{rpcap-protocol_8h_source}{rpcap-\/protocol.\+h}} -\/ RPCAP client/server common prototypes savefile.\+c -\/ offline support scanner.\+l -\/ filter string scanner sf-\/pcap.\+c -\/ routines for .pcap savefiles \mbox{\hyperlink{sf-pcap_8h_source}{sf-\/pcap.\+h}} -\/ prototypes for .pcap savefiles sf-\/pcapng.\+c -\/ routines for .pcapng savefiles \mbox{\hyperlink{sf-pcapng_8h_source}{sf-\/pcapng.\+h}} -\/ prototypes for .pcapng savefiles sockutils.\+c -\/ socket and name lookup API routines \mbox{\hyperlink{sockutils_8h_source}{sockutils.\+h}} -\/ socket and name lookup API prototypes sslutils.\+c -\/ Open\+SSL interface routines \mbox{\hyperlink{sslutils_8h_source}{sslutils.\+h}} -\/ Open\+SSL interface prototypes \mbox{\hyperlink{sunatmpos_8h_source}{sunatmpos.\+h}} -\/ definitions for Sun\+ATM capturing \mbox{\hyperlink{varattrs_8h_source}{varattrs.\+h}} -\/ variable attribute macros 